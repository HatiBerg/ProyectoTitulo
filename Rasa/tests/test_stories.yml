#### This file contains tests to evaluate that your bot behaves as expected.
#### If you want to learn more, please see the docs: https://rasa.com/docs/rasa/testing-your-assistant

stories:
- story: pagar impuestos
  steps:
  - user: |
      Hola.
  - intent: greet
  - action: utter_greet
  - user: |
      ¿Que impuesto debo pagar?
  - intent: what_tax
  - action: utter_what_tax
  - user: |
      ¿Debo pagar?
  - intent: request_taxes
  - action: utter_inform_taxes
  - user: |
      Aqui tienes [12]{"entity": "amount"} peniques.
  - intent: pay
  - action: action_extract_data
  - action: action_check_amount

- story: pagar de más y el soldado devuelve el sobrante
  steps:
  - user: |
      Buenos dias.
  - intent: greet
  - action: utter_greet
  - user: |
      ¿Cual de los impuestos debo pagar?
  - intent: what_tax
  - action: utter_what_tax
  - user: |
      ¿Cuanto?
  - intent: request_taxes
  - action: utter_inform_taxes
  - user: |
      ten [18]{"entity": "amount"} peniques.
  - intent: pay_more
  - action: action_extract_data
  - action: action_check_amount

- story: pagar menos de lo solicitado y pelear
  steps:
  - user: |
      ¿Cómo estas?
  - intent: greet
  - action: utter_greet
  - user: |
      ¿De todos los impuestos? ¿Cual tengo que pagar?
  - intent: what_tax
  - action: utter_what_tax
  - user: |
      ¿cuanto debo pagar?
  - intent: request_taxes
  - action: utter_inform_taxes
  - user: |
      solo te puedo dar [7]{"entity": "amount"} peniques.
  - intent: pay_less
  - action: action_check_amount
  - user: |
      No tengo mas peniques.
  - or:
    - intent: deny
    - intent: challenge
  - action: action_extract_data
  - action: utter_fight

- story:  negarse a pagar impuestos y pelear
  steps:
  - user: |
      ¿Qué tal?
  - intent: greet
  - action: utter_greet
  - user: |
      ¿A cual de todos se refiere?
  - intent: what_tax
  - action: utter_what_tax
  - user: |
      ¿Y debo pagar cuanto?
  - intent: request_taxes
  - action: utter_inform_taxes
  - user: |
      No pienso pagarte ni un penique
  - or:
    - intent: deny
    - intent: challenge
  - action: utter_refuse_payment
  - user: |
      porque no puedo pagarlo
  - intent: challenge
  - action: action_extract_data
  - action: utter_fight