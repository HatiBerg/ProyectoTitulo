version: "3.1"

stories:
  - story: pagar impuestos | pagar de más y el soldado devuelve el sobrante
    steps:
      - intent: greet
      - action: utter_greet
      - intent: what_tax
      - action: utter_what_tax
      - intent: request_taxes
      - action: utter_inform_taxes
      - intent: pay
      - action: action_check_amount
      - action: action_extract_data

  - story: pagar de más y el soldado devuelve el sobrante
    steps:
      - intent: greet
      - action: utter_greet
      - intent: what_tax
      - action: utter_what_tax
      - intent: request_taxes
      - action: utter_inform_taxes
      - intent: pay_more
      - action: action_check_amount
      - action: action_extract_data

  - story: pagar menos de lo solicitado y pelear
    steps:
      - intent: greet
      - action: utter_greet
      - intent: what_tax
      - action: utter_what_tax
      - intent: request_taxes
      - action: utter_inform_taxes
      - intent: pay_less
      - action: action_check_amount
      - or:
        - intent: deny
        - intent: challenge
      - action: utter_fight
      - action: action_extract_data

  - story:  negarse a pagar impuestos y pelear
    steps:
      - intent: greet
      - action: utter_greet
      - intent: what_tax
      - action: utter_what_tax
      - intent: request_taxes
      - action: utter_inform_taxes
      - intent: deny
      - action: utter_refuse_payment
      - or:
        - intent: deny
        - intent: challenge
      - action: utter_fight
      - action: action_extract_data